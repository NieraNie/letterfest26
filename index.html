<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Letterfest26 ‚Äî Letters Alive</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "brand-yellow": "#fff100",
            "brand-red": "#ea1f1f",
            "brand-blue": "#20b8ed",
          },
        },
        fontFamily: {
          sans: ["Sligoil", "sans-serif"],
          serif: ["Sligoil", "sans-serif"],
          mono: ["Sligoil", "sans-serif"],
          display: ["Sligoil", "sans-serif"],
          body: ["Sligoil", "sans-serif"],
        },
      },
    };
  </script>

  <!-- GSAP / Lenis / Matter -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>

  <style>
    /* Font */
    @font-face {
      font-family: "Sligoil";
      src: url("./Sligoil-Micro.otf") format("opentype");
      font-weight: normal;
      font-style: normal;
      font-display: block;
    }

    :root {
      --red: #ea1f1f;
      --blue: #20b8ed;
      --yellow: #fff100;
      --black: #050505;
      --white: #f1f1f1;

      --font-display: "Sligoil", sans-serif;
      --font-body: "Sligoil", sans-serif;
    }

    body {
      font-family: "Sligoil", sans-serif !important;
      background-color: var(--white);
      color: var(--black);
      overflow-x: hidden;
      cursor: none;
    }

    .display-font,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    a,
    span,
    button,
    div {
      font-family: "Sligoil", sans-serif;
    }

    /* Noise */
    .noise {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9000;
      opacity: 0.04;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    }

    /* Cursor system */
    .cursor-ball {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 11000;
    }

    .cursor-small {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #ffffff;
      mix-blend-mode: difference;
    }

    .cursor-rose {
      width: 90px;
      height: 90px;
      z-index: 10999;
      mix-blend-mode: normal;
      -webkit-mask-image: url("rose.png");
      mask-image: url("rose.png");
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
      -webkit-mask-position: center;
      mask-position: center;
      -webkit-mask-size: contain;
      mask-size: contain;
      background-color: #c93937;
      transition: transform 0.15s ease-out, background-color 0.2s ease-out;
    }

    body.hovering .cursor-rose {
      transform: scale(1.15);
    }

    body.hovering-shop .cursor-rose {
      transform: scale(1.3);
    }

    body.rose-on-light .cursor-rose {
      background-color: #000000;
    }

    body.rose-on-red .cursor-rose {
      background-color: #fff100;
    }

    body.rose-on-yellow .cursor-rose {
      background-color: #000000;
    }

    /* Preloader */
    .preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 10000;
      color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    /* Accordion Speakers */
    .accordion-container {
      display: flex;
      width: 100%;
      height: 80vh;
      overflow: hidden;
      border-bottom: 1px solid black;
    }

    .acc-item {
      flex: 1;
      position: relative;
      border-right: 1px solid black;
      transition: flex 0.8s cubic-bezier(0.16, 1, 0.3, 1);
      overflow: hidden;
      background: #000;
    }

    .acc-item:last-child {
      border-right: none;
    }

    .acc-item:hover {
      flex: 3;
    }

    .acc-img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      filter: grayscale(100%) contrast(1.2);
      opacity: 0.6;
      transition: all 0.6s ease;
    }

    .acc-item:hover .acc-img {
      opacity: 1;
      filter: grayscale(0%) contrast(1);
      transform: scale(1.05);
    }

    .acc-img-alan {
      object-position: 80% center;
    }

    .acc-label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-90deg);
      white-space: nowrap;
      font-family: var(--font-display);
      font-size: 2rem;
      font-weight: 700;
      text-transform: uppercase;
      color: white;
      transition: opacity 0.3s;
      pointer-events: none;
      z-index: 20;
      mix-blend-mode: difference;
      width: 500px;
      text-align: center;
    }

    .acc-item:hover .acc-label {
      opacity: 0;
    }

    .acc-content {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 2rem;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
      transform: translateY(100%);
      transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
      z-index: 30;
    }

    .acc-item:hover .acc-content {
      transform: translateY(0);
    }

    .party-img {
      object-position: center 45%;
    }

    .tab-btn.active {
      background-color: var(--black);
      color: var(--white);
    }

    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    ::selection {
      background: var(--red);
      color: white;
    }

    /* Ticket Modal */
    #ticket-modal {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    #ticket-modal.open {
      opacity: 1;
      pointer-events: auto;
    }

    #ticket-modal .modal-content {
      transform: translateY(50px) scale(0.95);
      transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    #ticket-modal.open .modal-content {
      transform: translateY(0) scale(1);
    }

    /* Schedule animation */
    .schedule-underline {
      transform-origin: left center;
      transform: scaleX(0);
    }

    .schedule-row {
      will-change: transform, opacity;
      border-bottom: 1px solid #e5e7eb;
    }

    /* Cart fly clone */
    .fly-clone {
      position: fixed;
      z-index: 12000;
      font-family: "Sligoil", sans-serif;
      font-size: 12px;
      padding: 4px 8px;
      background: #ea1f1f;
      color: #fff;
      border-radius: 999px;
      pointer-events: none;
      transform: translate(-50%, 0);
    }

    /* Letter physics overlay */
    #letters-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 5;
    }

    .letter-item {
      position: absolute;
      will-change: transform;
    }
  </style>
</head>
<body class="antialiased">
  <!-- Noise + cursor -->
  <div class="noise"></div>
  <div class="cursor-ball cursor-small hidden md:block"></div>
  <div class="cursor-ball cursor-rose hidden md:block"></div>

  <!-- Ticket Modal -->
  <div id="ticket-modal" class="fixed inset-0 z-[10001] flex items-center justify-center px-4">
    <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeModal()"></div>

    <div
      class="modal-content relative w-full max-w-4xl bg-white shadow-[20px_20px_0px_0px_rgba(255,241,0,1)] flex flex-col md:flex-row overflow-hidden border-2 border-black">
      <button
        onclick="closeModal()"
        class="absolute top-4 right-4 z-50 w-10 h-10 bg-black text-white rounded-full flex items-center justify-center hover:scale-110 transition-transform hover-trigger">
        ‚úï
      </button>

      <!-- Left: tickets -->
      <div class="w-full md:w-1/2 bg-black relative overflow-hidden flex items-center justify-center">
        <div class="relative w-[95%] max-w-[420px] aspect-[227/70]">
          <img
            id="modal-ticket-back"
            src="ticket back.png"
            class="absolute inset-0 w-full h-full object-contain opacity-70 translate-x-3 translate-y-3"
            alt="Ticket Back" />
          <img
            id="modal-ticket-front"
            src="ticket blue.png"
            class="absolute inset-0 w-full h-full object-contain z-10"
            alt="Ticket Front" />
        </div>
        <div class="absolute bottom-6 left-6 text-white pointer-events-none z-20">
          <p class="text-xs uppercase tracking-widest text-brand-yellow">Admit One</p>
          <h3
            class="text-2xl md:text-3xl font-bold uppercase display-font"
            id="modal-ticket-type">
            General Pass
          </h3>
        </div>
      </div>

      <!-- Right: info -->
      <div class="w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-between bg-white relative">
        <div>
          <div class="flex justify-between items-start mb-8">
            <div class="text-sm font-mono uppercase tracking-[0.2em] text-gray-500">
              LETTERFEST26<br />
              TICKET
            </div>
            <div class="text-right">
              <span class="block text-4xl font-bold display-font" id="modal-price">¬£18</span>
              <span class="text-xs uppercase text-gray-500">Incl. VAT</span>
            </div>
          </div>

          <div class="space-y-6 font-mono text-sm uppercase">
            <div class="flex justify-between border-b border-black pb-2">
              <span class="text-gray-500">Date</span>
              <span class="font-bold" id="modal-date">June 18, 2026</span>
            </div>
            <div class="flex justify-between border-b border-black pb-2">
              <span class="text-gray-500">Venue</span>
              <span class="font-bold text-right">50 George Sq<br />Edinburgh</span>
            </div>
            <div class="flex justify-between border-b border-black pb-2">
              <span class="text-gray-500">Access</span>
              <span class="font-bold text-right" id="modal-access">1-Day Pass (General)</span>
            </div>
            <div class="flex justify-between border-b border-black pb-2">
              <span class="text-gray-500">Quantity</span>
              <span class="flex items-center gap-3">
                <button
                  id="qty-minus"
                  class="w-8 h-8 border border-black flex items-center justify-center text-lg leading-none hover:bg-black hover:text-white">
                  ‚Äì
                </button>
                <span id="qty-value" class="w-4 text-center">1</span>
                <button
                  id="qty-plus"
                  class="w-8 h-8 border border-black flex items-center justify-center text-lg leading-none hover:bg-black hover:text-white">
                  +
                </button>
              </span>
            </div>
            <div class="flex justify-between pb-2">
              <span class="text-gray-500">Total</span>
              <span id="total-amount" class="font-bold">¬£18</span>
            </div>
          </div>
        </div>

        <div class="mt-8">
          <button
            id="add-to-cart-btn"
            class="w-full bg-[#ea1f1f] text-white py-4 font-bold uppercase hover:bg-black transition-colors hover-trigger">
            ADD TO CART
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Preloader -->
  <div class="preloader p-6 md:p-12">
    <div class="flex justify-between items-start">
      <h1 class="font-bold tracking-tighter uppercase">Letterfest26</h1>
      <div class="text-right font-mono text-xs hidden md:block text-gray-400">
        <p>LOADING FULL EXPERIENCE...</p>
        <p>EDINBURGH, UK</p>
      </div>
    </div>
    <div
      class="text-[15vw] leading-none font-light display-font tracking-tight flex items-end">
      <span id="counter">0</span>%
    </div>
  </div>

  <!-- NAVIGATION -->
  <nav
    class="fixed top-0 left-0 w-full p-6 md:p-8 flex justify-between items-center z-50 mix-blend-difference text-white">
    <a
      href="#hero"
      class="text-2xl font-bold uppercase display-font tracking-tighter hover-trigger">
      LF‚Äî26
    </a>
    <div
      class="hidden md:flex gap-8 items-center font-mono text-xs uppercase tracking-widest">
      <a href="#about" class="hover:text-gray-300 transition-colors hover-trigger"
        >Concept</a
      >
      <a href="#speakers" class="hover:text-gray-300 transition-colors hover-trigger"
        >Voices</a
      >
      <a href="#schedule" class="hover:text-gray-300 transition-colors hover-trigger"
        >Program</a
      >
      <a href="#merch" class="hover:text-gray-300 transition-colors hover-trigger"
        >Shop</a
      >
    </div>

    <div class="flex items-center gap-4">
      <!-- Cart -->
      <button
        id="cart-icon"
        class="relative w-10 h-10 rounded-full border border-white/70 flex items-center justify-center text-lg hover:bg-white hover:text-black transition-colors">
        üõí
        <span
          id="cart-badge"
          class="hidden absolute -top-1 -right-1 w-5 h-5 rounded-full bg-brand-red text-xs text-white flex items-center justify-center">
          0
        </span>
      </button>

      <a
        href="#tickets"
        class="bg-white text-black px-6 py-2 text-xs font-bold uppercase tracking-widest hover:scale-105 transition-transform hover-trigger">
        Get Tickets
      </a>
    </div>
  </nav>

  <!-- LETTER PHYSICS LAYER -->
  <div id="letters-layer"></div>

  <main>
    <!-- HERO -->
    <section
      id="hero"
      class="h-screen flex flex-col justify-center items-center relative overflow-hidden bg-[#f1f1f1]"
      data-bg="light">
      <div
        class="absolute w-[40vw] h-[40vw] bg-[#ea1f1f] rounded-full blur-[120px] opacity-20 animate-pulse top-0 right-0 pointer-events-none"></div>
      <div
        class="absolute w-[30vw] h-[30vw] bg-[#20b8ed] rounded-full blur-[100px] opacity-20 bottom-0 left-0 pointer-events-none"></div>

      <div
        id="hero-logo-wrapper"
        class="z-10 flex items-center justify-center select-none relative transition-transform duration-300">
        <img
          src="logo.png"
          alt="Letterfest26 logo"
          class="hero-title hero-logo w-[70vw] max-w-[780px] h-auto"
          style="mix-blend-mode: normal; filter: none" />
      </div>

      <div
        class="absolute bottom-12 w-full px-12 flex justify-between items-end font-mono text-xs uppercase tracking-widest text-black">
        <div>SCROLL TO EXPLORE</div>
        <div class="text-right">
          JUNE 18‚Äì20 2026<br />
          EDINBURGH
        </div>
      </div>
    </section>

    <!-- MARQUEE -->
    <div
      class="py-4 bg-[#050505] text-[#f1f1f1] overflow-hidden border-y border-white/10">
      <div class="marquee-inner whitespace-nowrap flex gap-8">
        <span class="text-4xl font-bold uppercase display-font"
          >LET LETTERS PLAY, LETFEELINGS PRINT THEMSELVES ‚Ä¢ LET LETTERS PLAY,
          LETFEELINGS PRINT THEMSELVES ‚Ä¢</span
        >
        <span class="text-4xl font-bold uppercase display-font"
          >LET LETTERS PLAY, LETFEELINGS PRINT THEMSELVES ‚Ä¢ LET LETTERS PLAY,
          LETFEELINGS PRINT THEMSELVES ‚Ä¢</span
        >
      </div>
    </div>

    <!-- ABOUT -->
    <section
      id="about"
      class="py-32 px-6 md:px-24 bg-[#050505] text-[#f1f1f1] relative border-b border-white/10">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-24 items-start">
        <div class="reveal-text sticky top-32">
          <span
            class="text-[#ea1f1f] font-mono text-sm tracking-widest uppercase mb-6 block"
            >01 ‚Äî The Concept</span
          >
          <h2
            class="text-5xl md:text-7xl font-bold uppercase display-font leading-[0.9] mb-8">
            Not just shapes.<br />Living Characters.
          </h2>
          <p
            class="text-xl md:text-2xl font-light text-gray-400 leading-relaxed max-w-lg">
            Letterfest26 invites you to witness typography not as a static tool
            for reading, but as a physical, emotional event.
          </p>
        </div>
        <div class="w-full flex flex-col gap-12">
          <div
            class="img-container w-full relative overflow-hidden grayscale hover:grayscale-0 transition-all duration-700">
            <img
              src="party.png"
              class="parallax-img max-w-full h-auto mx-auto"
              alt="Party" />
          </div>
          <img
            src="O.png"
            class="parallax-img w-auto h-auto mx-auto max-w-[220px] md:max-w-[260px] transition-transform duration-500 hover:scale-110 hover:rotate-6"
            alt="Letter O" />
        </div>
      </div>
    </section>

    <!-- SPEAKERS -->
    <section id="speakers" class="bg-[#f1f1f1] border-b border-black">
      <div
        class="px-6 md:px-12 py-12 flex justify-between items-end border-b border-black">
        <div>
          <span
            class="text-[#20b8ed] font-mono text-sm tracking-widest uppercase mb-2 block"
            >02 ‚Äî Lineup</span
          >
          <h2 class="text-7xl font-bold uppercase display-font text-black">
            Voices
          </h2>
        </div>
        <p
          class="hidden md:block font-mono text-xs uppercase max-w-xs text-right">
          Six pioneers reshaping typography.<br />Hover to reveal.
        </p>
      </div>
      <div class="accordion-container">
        <div class="acc-item hover-trigger">
          <img src="sarah.jpeg" class="acc-img" alt="Sarah" />
          <div class="acc-label">Sarah Boris</div>
          <div class="acc-content text-white">
            <p
              class="text-[#ea1f1f] font-mono text-xs uppercase mb-2">
              Independent Designer
            </p>
            <h3 class="text-4xl font-bold uppercase display-font mb-4">
              Sarah Boris
            </h3>
            <p class="text-sm opacity-80">Topic: Typography Meets Art</p>
          </div>
        </div>
        <div class="acc-item hover-trigger">
          <img src="neville.jpg" class="acc-img" alt="Neville" />
          <div class="acc-label">Neville Brody</div>
          <div class="acc-content text-white">
            <p
              class="text-[#20b8ed] font-mono text-xs uppercase mb-2">
              Typographic Pioneer
            </p>
            <h3 class="text-4xl font-bold uppercase display-font mb-4">
              Neville Brody
            </h3>
            <p class="text-sm opacity-80">Topic: Breaking the Rules</p>
          </div>
        </div>
        <div class="acc-item hover-trigger">
          <img src="gerry.jpg" class="acc-img" alt="Gerry" />
          <div class="acc-label">Gerry Leonidas</div>
          <div class="acc-content text-white">
            <p
              class="text-[#fff100] font-mono text-xs uppercase mb-2">
              Educator
            </p>
            <h3 class="text-4xl font-bold uppercase display-font mb-4">
              Gerry Leonidas
            </h3>
            <p class="text-sm opacity-80">Topic: Inclusive Future</p>
          </div>
        </div>
        <div class="acc-item hover-trigger">
          <img src="alan.jpg" class="acc-img acc-img-alan" alt="Alan" />
          <div class="acc-label">Alan Kitching</div>
          <div class="acc-content text-white">
            <p
              class="text-[#ea1f1f] font-mono text-xs uppercase mb-2">
              Letterpress
            </p>
            <h3 class="text-4xl font-bold uppercase display-font mb-4">
              Alan Kitching
            </h3>
            <p class="text-sm opacity-80">Topic: Living Craft</p>
          </div>
        </div>
        <div class="acc-item hover-trigger">
          <img src="morag.jpg" class="acc-img" alt="Morag" />
          <div class="acc-label">Morag Myerscough</div>
          <div class="acc-content text-white">
            <p
              class="text-[#20b8ed] font-mono text-xs uppercase mb-2">
              Designer
            </p>
            <h3 class="text-4xl font-bold uppercase display-font mb-4">
              Morag Myerscough
            </h3>
            <p class="text-sm opacity-80">Topic: Connection</p>
          </div>
        </div>
        <div class="acc-item hover-trigger">
          <img src="Seb.jpg" class="acc-img" alt="Seb" />
          <div class="acc-label">Seb Lester</div>
          <div class="acc-content text-white">
            <p
              class="text-[#fff100] font-mono text-xs uppercase mb-2">
              Calligrapher
            </p>
            <h3 class="text-4xl font-bold uppercase display-font mb-4">
              Seb Lester
            </h3>
            <p class="text-sm opacity-80">Topic: Magic of Letters</p>
          </div>
        </div>
      </div>
    </section>

    <!-- SCHEDULE -->
    <section
      id="schedule"
      class="bg-white text-black py-24 px-6 md:px-24"
      data-bg="light">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
        <div class="lg:col-span-4 sticky top-24 self-start">
          <span
            class="text-[#ea1f1f] font-mono text-sm tracking-widest uppercase mb-4 block"
            >03 ‚Äî Program</span
          >
          <h2 class="text-6xl font-bold uppercase display-font mb-12">
            Schedule
          </h2>
          <div class="flex flex-col gap-0 border border-black">
            <button
              onclick="openTab(0)"
              class="tab-btn active p-6 text-left uppercase font-bold text-xl border-b border-black hover:bg-black hover:text-white transition-colors hover-trigger flex justify-between group">
              Thursday
              <span class="text-xs font-mono opacity-50 mt-2">6.18</span>
            </button>
            <button
              onclick="openTab(1)"
              class="tab-btn p-6 text-left uppercase font-bold text-xl border-b border-black hover:bg-black hover:text-white transition-colors hover-trigger flex justify-between group">
              Friday <span class="text-xs font-mono opacity-50 mt-2">6.19</span>
            </button>
            <button
              onclick="openTab(2)"
              class="tab-btn p-6 text-left uppercase font-bold text-xl hover:bg-black hover:text-white transition-colors hover-trigger flex justify-between group">
              Saturday
              <span class="text-xs font-mono opacity-50 mt-2">6.20</span>
            </button>
          </div>
        </div>

        <div
          class="lg:col-span-8 min-h-[500px] border-l border-black pl-0 lg:pl-12 pt-4">
          <!-- Day 0 -->
          <div id="day-0" class="schedule-tab block">
            <!-- lines for animation -->
            <div class="schedule-row group hover-trigger relative overflow-hidden">
              <div
                class="py-4 flex flex-col md:flex-row gap-4 md:items-baseline">
                <span
                  class="text-[#ea1f1f] font-mono text-lg font-bold w-40 shrink-0">
                  10:00‚Äì10:30
                </span>
                <div class="flex-1">
                  <h3 class="text-3xl font-bold uppercase display-font">
                    Opening Ceremony
                  </h3>
                </div>
              </div>
              <div
                class="schedule-underline absolute left-0 bottom-0 h-[2px] w-full bg-brand-blue"></div>
            </div>

            <div class="schedule-row group hover-trigger relative overflow-hidden">
              <div
                class="py-4 flex flex-col md:flex-row gap-4 md:items-baseline">
                <span
                  class="text-[#ea1f1f] font-mono text-lg font-bold w-40 shrink-0">
                  10:30‚Äì12:00
                </span>
                <div class="flex-1">
                  <h3 class="text-3xl font-bold uppercase display-font">
                    Talk &amp; Q&amp;A: Sarah Boris
                  </h3>
                </div>
              </div>
              <div
                class="schedule-underline absolute left-0 bottom-0 h-[2px] w-full bg-brand-red"></div>
            </div>

            <div class="schedule-row group hover-trigger relative overflow-hidden">
              <div
                class="py-4 flex flex-col md:flex-row gap-4 md:items-baseline">
                <span
                  class="text-[#ea1f1f] font-mono text-lg font-bold w-40 shrink-0">
                  12:00‚Äì13:00
                </span>
                <div class="flex-1">
                  <h3 class="text-3xl font-bold uppercase display-font">
                    Printmaking Workshop
                  </h3>
                </div>
              </div>
              <div
                class="schedule-underline absolute left-0 bottom-0 h-[2px] w-full bg-brand-red"></div>
            </div>

            <div class="schedule-row group hover-trigger relative overflow-hidden">
              <div
                class="py-4 flex flex-col md:flex-row gap-4 md:items-baseline">
                <span
                  class="text-[#ea1f1f] font-mono text-lg font-bold w-40 shrink-0">
                  14:00‚Äì15:30
                </span>
                <div class="flex-1">
                  <h3 class="text-3xl font-bold uppercase display-font">
                    Exhibit Exploration
                  </h3>
                </div>
              </div>
              <div
                class="schedule-underline absolute left-0 bottom-0 h-[2px] w-full bg-brand-red"></div>
            </div>

            <div class="schedule-row group hover-trigger relative overflow-hidden">
              <div
                class="py-4 flex flex-col md:flex-row gap-4 md:items-baseline">
                <span
                  class="text-[#ea1f1f] font-mono text-lg font-bold w-40 shrink-0">
                  16:00‚Äì17:00
                </span>
                <div class="flex-1">
                  <h3 class="text-3xl font-bold uppercase display-font">
                    Talk &amp; Q&amp;A: Alan Kitching
                  </h3>
                </div>
              </div>
              <div
                class="schedule-underline absolute left-0 bottom-0 h-[2px] w-full bg-brand-red"></div>
            </div>

            <div class="schedule-row group hover-trigger relative overflow-hidden">
              <div
                class="py-4 flex flex-col md:flex-row gap-4 md:items-baseline">
                <span
                  class="text-[#ea1f1f] font-mono text-lg font-bold w-40 shrink-0">
                  17:00‚Äì19:00
                </span>
                <div class="flex-1">
                  <h3 class="text-3xl font-bold uppercase display-font">
                    Welcome Networking Reception
                  </h3>
                </div>
              </div>
              <div
                class="schedule-underline absolute left-0 bottom-0 h-[2px] w-full bg-brand-yellow"></div>
            </div>
          </div>

          <!-- Day 1 -->
          <div id="day-1" class="schedule-tab hidden">
            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-blue font-mono text-lg font-bold w-40 shrink-0">
                10:00‚Äì11:00
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Talk &amp; Q&amp;A: Neville Brody
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-blue font-mono text-lg font-bold w-40 shrink-0">
                11:00‚Äì11:30
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Coffee Break
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-blue font-mono text-lg font-bold w-40 shrink-0">
                11:30‚Äì13:00
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Calligraphy Jam Type Lab
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-blue font-mono text-lg font-bold w-40 shrink-0">
                14:00‚Äì15:30
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Exhibit Exploration
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-blue font-mono text-lg font-bold w-40 shrink-0">
                16:00‚Äì17:00
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Talk &amp; Q&amp;A: Seb Lester
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-blue font-mono text-lg font-bold w-40 shrink-0">
                17:00‚Äì19:00
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Evening Social: ‚ÄúType Trivia‚Äù Night &amp; Networking
                </h3>
              </div>
            </div>
          </div>

          <!-- Day 2 -->
          <div id="day-2" class="schedule-tab hidden">
            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-red font-mono text-lg font-bold w-40 shrink-0">
                10:00‚Äì11:00
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Talk &amp; Q&amp;A: Gerry Leonidas
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-red font-mono text-lg font-bold w-40 shrink-0">
                11:00‚Äì11:30
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Coffee Break
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-red font-mono text-lg font-bold w-40 shrink-0">
                12:00‚Äì13:00
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Printmaking Workshop
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-red font-mono text-lg font-bold w-40 shrink-0">
                14:00‚Äì15:30
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Exhibit Exploration
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-red font-mono text-lg font-bold w-40 shrink-0">
                16:00‚Äì17:00
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Talk &amp; Q&amp;A: Morag Myerscough
                </h3>
              </div>
            </div>

            <div
              class="border-b border-gray-200 py-4 group hover-trigger flex flex-col md:flex-row gap-4 md:items-baseline">
              <span
                class="text-brand-red font-mono text-lg font-bold w-40 shrink-0">
                17:00‚Äì19:00
              </span>
              <div class="flex-1">
                <h3 class="text-3xl font-bold uppercase display-font">
                  Closing Ceremony &amp; Farewell Party
                </h3>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MERCH -->
    <section
      id="merch"
      class="py-24 bg-[#050505] text-white border-y border-white/20">
      <div
        class="px-6 md:px-12 mb-16 flex justify-between items-end">
        <div>
          <span
            class="text-[#fff100] font-mono text-sm tracking-widest uppercase mb-2 block"
            >04 ‚Äî Goods</span
          >
          <h2 class="text-6xl font-bold uppercase display-font">Store</h2>
        </div>
        <a
          href="#"
          class="border-b border-white pb-1 hover:text-[#fff100] hover:border-[#fff100] transition-colors uppercase font-bold text-sm hover-trigger">
          View All
        </a>
      </div>
      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 border-t border-white/20">
        <div
          class="shop-item group border-r border-white/20 border-b lg:border-b-0 p-8 hover:bg-[#111] transition-colors relative shop-trigger">
          <div
            class="aspect-square bg-gray-900 mb-6 overflow-hidden relative">
            <img
              src="https://picsum.photos/400/400?grayscale&random=10"
              class="w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500"
              alt="Tee" />
            <div
              class="absolute top-2 left-2 bg-[#ea1f1f] text-white text-[10px] font-bold uppercase px-2 py-1">
              Apparel
            </div>
          </div>
          <div class="flex justify-between items-start">
            <h4 class="text-xl font-bold uppercase display-font">
              Festival Tee 26
            </h4>
            <span class="font-mono text-[#fff100]">¬£30</span>
          </div>
        </div>

        <div
          class="shop-item group border-r border-white/20 border-b lg:border-b-0 p-8 hover:bg-[#111] transition-colors relative shop-trigger">
          <div
            class="aspect-square bg-gray-900 mb-6 overflow-hidden relative">
            <img
              src="https://picsum.photos/400/400?grayscale&random=11"
              class="w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500"
              alt="Tote" />
            <div
              class="absolute top-2 left-2 bg-[#20b8ed] text-black text-[10px] font-bold uppercase px-2 py-1">
              Accessory
            </div>
          </div>
          <div class="flex justify-between items-start">
            <h4 class="text-xl font-bold uppercase display-font">
              Exp. Tote
            </h4>
            <span class="font-mono text-[#fff100]">¬£15</span>
          </div>
        </div>

        <div
          class="shop-item group border-r border-white/20 border-b lg:border-b-0 p-8 hover:bg-[#111] transition-colors relative shop-trigger">
          <div
            class="aspect-square bg-gray-900 mb-6 overflow-hidden relative">
            <img
              src="https://picsum.photos/400/400?grayscale&random=12"
              class="w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500"
              alt="Poster" />
          </div>
          <div class="flex justify-between items-start">
            <h4 class="text-xl font-bold uppercase display-font">
              A2 Poster
            </h4>
            <span class="font-mono text-[#fff100]">¬£20</span>
          </div>
        </div>

        <div
          class="shop-item group p-8 hover:bg-[#111] transition-colors relative shop-trigger">
          <div
            class="aspect-square bg-gray-900 mb-6 overflow-hidden relative">
            <img
              src="https://picsum.photos/400/400?grayscale&random=13"
              class="w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500"
              alt="Book" />
          </div>
          <div class="flex justify-between items-start">
            <h4 class="text-xl font-bold uppercase display-font">
              Specimen Book
            </h4>
            <span class="font-mono text-[#fff100]">¬£25</span>
          </div>
        </div>
      </div>
    </section>

    <!-- SPONSORS -->
    <div class="py-12 bg-white border-b border-black overflow-hidden" data-bg="light">
      <div
        class="text-center text-xs uppercase tracking-[0.3em] mb-8 text-gray-400">
        Supported By
      </div>
      <div
        class="marquee-inner whitespace-nowrap flex gap-24 opacity-60 grayscale hover:grayscale-0 transition-all duration-500">
        <span class="text-3xl font-bold italic">University of Edinburgh ECA</span>
        <span class="text-3xl font-bold">Adobe</span>
        <span class="text-3xl font-bold">Creative Scotland</span>
        <span class="text-3xl font-bold">Colophon Foundry</span>
        <span class="text-3xl font-bold italic">Edinburgh Printmakers</span>
      </div>
    </div>

    <!-- VENUE & TICKETS -->
    <section
      id="venue"
      class="grid grid-cols-1 lg:grid-cols-2 min-h-screen bg-[#ea1f1f] text-white">
      <!-- Map -->
      <div
        class="relative border-b lg:border-b-0 lg:border-r border-black/20 flex flex-col"
        data-bg="red">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2234.336496666276!2d-3.1895689232840554!3d55.94442537315579!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4887c784e56580d1%3A0x7020d5e165780d0!2s50%20George%20Square%2C%20Edinburgh%20EH8%209JU%2C%20UK!5e0!3m2!1sen!2sus!4v1715000000000!5m2!1sen!2sus"
          class="w-full h-1/2 mix-blend-multiply grayscale contrast-125 invert"
          style="border: 0"
          loading="lazy"></iframe>
        <div class="p-12 flex-1 flex flex-col justify-between bg-[#ea1f1f]">
          <div>
            <h2 class="text-5xl font-bold uppercase display-font mb-8">Venue</h2>
            <p class="text-xl text-brand-yellow">
              The University of Edinburgh<br />
              50 George Square<br />
              Edinburgh EH8 9JU
            </p>
          </div>
          <div
            class="mt-12 opacity-90 text-sm font-mono uppercase text-brand-yellow">
            <p>info@letterfest26.org</p>
            <p>+44 (0)131 555 7826</p>
          </div>
        </div>
      </div>

      <!-- Tickets -->
      <div
        id="tickets"
        class="p-12 md:p-24 flex flex-col justify-center bg-[#fff100] text-black relative overflow-hidden"
        data-bg="yellow">
        <div class="absolute top-0 right-0 p-8 text-black font-bold animate-pulse">
          ‚óè LIMITED AVAILABILITY
        </div>

        <h2
          class="text-[8vw] lg:text-[6vw] font-bold uppercase display-font leading-none mb-12 text-black">
          Get<br />Access
        </h2>

        <div class="space-y-6">
          <!-- General -->
          <div
            onclick="openModal('General Pass', '¬£18')"
            class="group relative bg-white border-2 border-black p-0 cursor-pointer hover:-translate-y-2 transition-transform duration-300 hover-trigger">
            <div
              class="absolute left-[70%] top-0 bottom-0 border-l-2 border-dashed border-black hidden md:block"></div>
            <div
              class="absolute left-[70%] top-[-12px] w-6 h-6 bg-[#fff100] rounded-full border-2 border-black -translate-x-1/2 hidden md:block"></div>
            <div
              class="absolute left-[70%] bottom-[-12px] w-6 h-6 bg-[#fff100] rounded-full border-2 border-black -translate-x-1/2 hidden md:block"></div>

            <div class="flex flex-col md:flex-row h-full">
              <div class="flex-1 p-8 flex flex-col justify-center">
                <h3 class="text-4xl font-bold uppercase display-font">General</h3>
                <p
                  class="mt-2 font-mono text-sm uppercase text-gray-600 group-hover:text-black">
                  1-Day Pass
                </p>
              </div>
              <div
                class="md:w-[30%] p-8 flex items-center justify-center md:justify-end">
                <span class="text-5xl font-bold display-font">¬£18</span>
              </div>
            </div>
          </div>

          <!-- Student -->
          <div
            onclick="openModal('Student Pass', '¬£12')"
            class="group relative bg-white border-2 border-black p-0 cursor-pointer hover:-translate-y-2 transition-transform duration-300 hover-trigger">
            <div
              class="absolute left-[70%] top-0 bottom-0 border-l-2 border-dashed border-black hidden md:block"></div>
            <div
              class="absolute left-[70%] top-[-12px] w-6 h-6 bg-[#fff100] rounded-full border-2 border-black -translate-x-1/2 hidden md:block"></div>
            <div
              class="absolute left-[70%] bottom-[-12px] w-6 h-6 bg-[#fff100] rounded-full border-2 border-black -translate-x-1/2 hidden md:block"></div>

            <div class="flex flex-col md:flex-row h-full">
              <div class="flex-1 p-8 flex flex-col justify-center">
                <h3 class="text-4xl font-bold uppercase display-font">Student</h3>
                <p
                  class="mt-2 font-mono text-sm uppercase text-gray-600 group-hover:text-black">
                  1-Day Pass / ID Required
                </p>
              </div>
              <div
                class="md:w-[30%] p-8 flex items-center justify-center md:justify-end">
                <span class="text-5xl font-bold display-font">¬£12</span>
              </div>
            </div>
          </div>
        </div>

        <div
          class="mt-24 pt-8 border-t border-black flex justify-between text-xs font-mono uppercase text-black/60">
          <div>¬© 2026 Letterfest</div>
          <div>Designed for Typography</div>
        </div>
      </div>
    </section>
  </main>

  <!-- MAIN SCRIPT -->
  <script>
    /* 1. Smooth scroll (safe) */
    let lenis = null;
    if (window.Lenis) {
      lenis = new Lenis({
        duration: 1.2,
        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
        direction: "vertical",
        smooth: true,
      });
      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }
      requestAnimationFrame(raf);
    } else {
      console.warn("Lenis not found, normal scroll used.");
    }

    /* 2. Cursor */
    const cursorSmall = document.querySelector(".cursor-small");
    const cursorRose = document.querySelector(".cursor-rose");
    const lerp = (a, b, n) => (1 - n) * a + n * b;
    let clientX = -100,
      clientY = -100,
      roseX = -100,
      roseY = -100;

    document.addEventListener("mousemove", (e) => {
      clientX = e.clientX;
      clientY = e.clientY;
      gsap.set(cursorSmall, { x: clientX - 4, y: clientY - 4 });
    });

    const renderCursor = () => {
      roseX = lerp(roseX, clientX, 0.12);
      roseY = lerp(roseY, clientY, 0.12);
      gsap.set(cursorRose, { x: roseX - 45, y: roseY - 45 });
      requestAnimationFrame(renderCursor);
    };
    renderCursor();

    document.querySelectorAll(".hover-trigger").forEach((el) => {
      el.addEventListener("mouseenter", () =>
        document.body.classList.add("hovering")
      );
      el.addEventListener("mouseleave", () =>
        document.body.classList.remove("hovering")
      );
    });
    document.querySelectorAll(".shop-trigger").forEach((el) => {
      el.addEventListener("mouseenter", () =>
        document.body.classList.add("hovering-shop")
      );
      el.addEventListener("mouseleave", () =>
        document.body.classList.remove("hovering-shop")
      );
    });

    document.querySelectorAll("[data-bg]").forEach((el) => {
      const type = el.getAttribute("data-bg");
      el.addEventListener("mouseenter", () => {
        document.body.classList.remove(
          "rose-on-light",
          "rose-on-red",
          "rose-on-yellow"
        );
        if (type === "light") document.body.classList.add("rose-on-light");
        if (type === "red") document.body.classList.add("rose-on-red");
        if (type === "yellow") document.body.classList.add("rose-on-yellow");
      });
      el.addEventListener("mouseleave", () => {
        document.body.classList.remove(
          "rose-on-light",
          "rose-on-red",
          "rose-on-yellow"
        );
      });
    });

    /* 3. Cart logic */
    const cartBadge = document.getElementById("cart-badge");
    const cartIcon = document.getElementById("cart-icon");
    let cartCount = 0;

    function updateCartBadge() {
      if (cartCount > 0) {
        cartBadge.textContent = cartCount;
        cartBadge.classList.remove("hidden");
      } else {
        cartBadge.classList.add("hidden");
      }
    }

    function flyToCart() {
      const btn = document.getElementById("add-to-cart-btn");
      const btnRect = btn.getBoundingClientRect();
      const cartRect = cartIcon.getBoundingClientRect();

      const clone = document.createElement("div");
      clone.className = "fly-clone";
      clone.textContent = "+1 ticket";
      clone.style.left = btnRect.left + btnRect.width / 2 + "px";
      clone.style.top = btnRect.top + "px";
      document.body.appendChild(clone);

      gsap.to(clone, {
        duration: 0.8,
        x: cartRect.left - (btnRect.left + btnRect.width / 2),
        y: cartRect.top - btnRect.top,
        scale: 0.5,
        opacity: 0,
        ease: "power2.in",
        onComplete: () => clone.remove(),
      });
    }

    /* 4. Ticket Modal + Quantity */
    const modal = document.getElementById("ticket-modal");
    const modalType = document.getElementById("modal-ticket-type");
    const modalPrice = document.getElementById("modal-price");
    const modalDate = document.getElementById("modal-date");
    const modalAccess = document.getElementById("modal-access");
    const modalFront = document.getElementById("modal-ticket-front");
    const modalBack = document.getElementById("modal-ticket-back");

    const qtyMinus = document.getElementById("qty-minus");
    const qtyPlus = document.getElementById("qty-plus");
    const qtyValue = document.getElementById("qty-value");
    const totalAmount = document.getElementById("total-amount");
    const addToCartBtn = document.getElementById("add-to-cart-btn");
    const MAX_QTY = 15;
    let currentUnitPrice = 18;
    let currentQty = 1;

    function updateTotal() {
      totalAmount.textContent = "¬£" + currentUnitPrice * currentQty;
    }

    qtyMinus.addEventListener("click", (e) => {
      e.stopPropagation();
      if (currentQty > 1) {
        currentQty--;
        qtyValue.textContent = currentQty;
        updateTotal();
      }
    });

    qtyPlus.addEventListener("click", (e) => {
      e.stopPropagation();
      if (currentQty < MAX_QTY) {
        currentQty++;
        qtyValue.textContent = currentQty;
        updateTotal();
      }
    });

    addToCartBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      cartCount += currentQty;
      updateCartBadge();
      flyToCart();
    });

    window.openModal = function (type, price) {
      modalType.innerText = type;
      modalPrice.innerText = price;

      if (type === "General Pass") {
        modalDate.innerText = "June 18, 2026";
        modalAccess.innerText = "1-Day Pass (General)";
        modalFront.src = "ticket blue.png";
        currentUnitPrice = 18;
      } else {
        modalDate.innerText = "June 19, 2026";
        modalAccess.innerText = "1-Day Pass (Student)";
        modalFront.src = "ticket red.png";
        currentUnitPrice = 12;
      }
      modalBack.src = "ticket back.png";

      currentQty = 1;
      qtyValue.textContent = "1";
      updateTotal();

      modal.classList.add("open");
    };

    window.closeModal = function () {
      modal.classList.remove("open");
    };

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.classList.contains("open")) closeModal();
    });

    /* 5. Preloader + basic animations */
    const tl = gsap.timeline();
    const counter = document.getElementById("counter");
    let count = 0;
    const updateCounter = setInterval(() => {
      count += 2;
      if (count > 100) count = 100;
      counter.innerText = count;
      if (count === 100) clearInterval(updateCounter);
    }, 20);

    tl.to(".preloader", {
      y: "-100%",
      delay: 2.0,
      duration: 1.2,
      ease: "power4.inOut",
    }).to(
      ".hero-title",
      {
        y: 0,
        opacity: 1,
        duration: 1.5,
        stagger: 0.1,
        ease: "power4.out",
      },
      "-=0.5"
    );

    gsap.to(".marquee-inner", {
      xPercent: -50,
      repeat: -1,
      duration: 20,
      ease: "linear",
    });
    gsap.registerPlugin(ScrollTrigger);
    gsap.utils.toArray(".img-container").forEach((container) => {
      const img = container.querySelector("img");
      gsap.to(img, {
        y: -50,
        scale: 1.1,
        scrollTrigger: { trigger: container, scrub: true },
      });
    });
    gsap.utils.toArray(".reveal-text").forEach((text) => {
      gsap.from(text, {
        y: 50,
        opacity: 0,
        duration: 1,
        scrollTrigger: { trigger: text, start: "top 80%" },
      });
    });

    window.openTab = function (index) {
      document.querySelectorAll(".tab-btn").forEach((btn, idx) => {
        if (idx === index) btn.classList.add("active");
        else btn.classList.remove("active");
      });
      document.querySelectorAll(".schedule-tab").forEach((tab, idx) => {
        if (idx === index) {
          tab.classList.remove("hidden");
          gsap.fromTo(
            tab,
            { opacity: 0, y: 10 },
            { opacity: 1, y: 0, duration: 0.4 }
          );
        } else {
          tab.classList.add("hidden");
        }
      });
    };

    /* 6. Schedule animation for Day 0 */
    const scheduleRows = gsap.utils.toArray("#day-0 .schedule-row");
    if (scheduleRows.length) {
      const underlines = scheduleRows.map((row) =>
        row.querySelector(".schedule-underline")
      );

      gsap
        .timeline({
          scrollTrigger: {
            trigger: "#schedule",
            start: "top 70%",
            once: true,
          },
        })
        .from(
          scheduleRows,
          {
            y: 40,
            opacity: 0,
            duration: 0.7,
            ease: "power3.out",
            stagger: 0.15,
          },
          0
        )
        .to(
          underlines,
          {
            scaleX: 1,
            duration: 0.7,
            ease: "power3.out",
            stagger: 0.15,
          },
          0
        );
    }

    /* 7. Falling letters + logo nudge (with Matter.js) */
    if (window.Matter) {
      const { Engine, Runner, Bodies, World, Events, Composite } = Matter;

      const heroSection = document.getElementById("hero");
      const lettersLayer = document.getElementById("letters-layer");
      const heroLogoWrapper = document.getElementById("hero-logo-wrapper");

      const engine = Engine.create();
      const runner = Runner.create();
      Runner.run(runner, engine);

      const LETTER_SIZE = 120; // ÊîæÂ§ß‰∏ÄÂÄç

      let heroBounds;
      function updateHeroBounds() {
        const rect = heroSection.getBoundingClientRect();
        heroBounds = {
          left: rect.left,
          top: rect.top,
          width: rect.width,
          height: rect.height,
        };
      }
      updateHeroBounds();
      window.addEventListener("resize", () => {
        updateHeroBounds();
        rebuildBounds();
      });

      function rebuildBounds() {
        Composite.clear(engine.world, false);
        const thickness = 100;
        const left = Bodies.rectangle(
          heroBounds.left - thickness / 2,
          heroBounds.top + heroBounds.height / 2,
          thickness,
          heroBounds.height + 2 * thickness,
          { isStatic: true }
        );
        const right = Bodies.rectangle(
          heroBounds.left + heroBounds.width + thickness / 2,
          heroBounds.top + heroBounds.height / 2,
          thickness,
          heroBounds.height + 2 * thickness,
          { isStatic: true }
        );
        const bottom = Bodies.rectangle(
          heroBounds.left + heroBounds.width / 2,
          heroBounds.top + heroBounds.height + thickness / 2,
          heroBounds.width + 2 * thickness,
          thickness,
          { isStatic: true, restitution: 0.2 }
        );
        const topWall = Bodies.rectangle(
          heroBounds.left + heroBounds.width / 2,
          heroBounds.top - thickness / 2,
          heroBounds.width + 2 * thickness,
          thickness,
          { isStatic: true }
        );
        World.add(engine.world, [left, right, bottom, topWall]);
      }
      rebuildBounds();

      const lettersOrder = "abcdefghijklmnopqrstuvwxyz".split("");
      let currentIndex = 0;
      const letterBodies = new Map();

      function spawnLetterAt(x, y) {
        if (currentIndex >= lettersOrder.length) return;

        const letterChar = lettersOrder[currentIndex];
        const fileName = letterChar === "o" ? "o2.png" : `${letterChar}.png`;

        const bodyWidth = LETTER_SIZE;
        const bodyHeight = LETTER_SIZE;

        const body = Bodies.rectangle(x, y, bodyWidth, bodyHeight, {
          restitution: 0.4,
          friction: 0.4,
          frictionAir: 0.02,
          density: 0.002,
        });

        World.add(engine.world, body);

        const div = document.createElement("div");
        div.className = "letter-item";
        div.style.width = bodyWidth + "px";
        div.style.height = bodyHeight + "px";
        const img = document.createElement("img");
        img.src = fileName;
        img.style.width = "100%";
        img.style.height = "100%";
        img.draggable = false;
        div.appendChild(img);
        lettersLayer.appendChild(div);

        letterBodies.set(body, div);
        currentIndex++;

        // ÊØèÊ¨°ÁÇπÂáª logo ‰∏äÁßª‰∏ÄÁÇπÔºåÊúÄÂ§ö 60px
        const clicks = currentIndex;
        const offset = Math.min(clicks * 4, 60);
        heroLogoWrapper.style.transform = `translateY(${-offset}px)`;
      }

      heroSection.addEventListener("click", (e) => {
        const rect = heroSection.getBoundingClientRect();
        if (
          e.clientY < rect.top ||
          e.clientY > rect.bottom ||
          e.clientX < rect.left ||
          e.clientX > rect.right
        )
          return;
        spawnLetterAt(e.clientX, e.clientY);
      });

      Events.on(engine, "beforeUpdate", () => {
        letterBodies.forEach((div, body) => {
          const x = body.position.x;
          const y = body.position.y;
          const angle = body.angle;
          div.style.transform = `translate(${x - LETTER_SIZE / 2}px,${
            y - LETTER_SIZE / 2
          }px) rotate(${angle}rad)`;
        });
      });
    } else {
      console.warn("Matter.js not found, falling letters disabled.");
    }
  </script>
</body>
</html>
